use axum::{http::{header, HeaderValue}, response::IntoResponse};
use base64::Engine;
// Thanks to ttys3 for shpwing me this idea. I wouldn't have thought to serve this from a base64 string.
// https://github.com/ttys3/static-server
 
pub async fn favicon() -> impl IntoResponse {
        // one pixel favicon generated from https://png-pixel.com/
        let favicon_base64 = "iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEamlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI0LTAxLTIzPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmEzOWE2MmVkLWU4NTgtNGM3My04OTIxLTI4Yjk2NDc1ZmMxNDwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6ZGM9J2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJz4KICA8ZGM6dGl0bGU+CiAgIDxyZGY6QWx0PgogICAgPHJkZjpsaSB4bWw6bGFuZz0neC1kZWZhdWx0Jz5JUD8gLSAxPC9yZGY6bGk+CiAgIDwvcmRmOkFsdD4KICA8L2RjOnRpdGxlPgogPC9yZGY6RGVzY3JpcHRpb24+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9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";
        let favicon_png = base64::prelude::BASE64_STANDARD.decode(favicon_base64).unwrap();
        ([(header::CONTENT_TYPE, HeaderValue::from_static("image/png"))], favicon_png)
}