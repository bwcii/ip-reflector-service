use axum::{http::{header, HeaderValue}, response::IntoResponse};
use base64::Engine;
// Thanks to ttys3 for shpwing me this idea. I wouldn't have thought to serve this from a base64 string.
// https://github.com/ttys3/static-server
 
pub async fn favicon() -> impl IntoResponse {
        // one pixel favicon generated from https://png-pixel.com/
        let favicon_base64 = "iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEamlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI0LTAxLTIzPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPjZiYzI0NmM3LTllNGUtNGQ2OC1hOTFhLTQ5YjRkYTIzM2MzZTwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6ZGM9J2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJz4KICA8ZGM6dGl0bGU+CiAgIDxyZGY6QWx0PgogICAgPHJkZjpsaSB4bWw6bGFuZz0neC1kZWZhdWx0Jz5JUD8gLSAxPC9yZGY6bGk+CiAgIDwvcmRmOkFsdD4KICA8L2RjOnRpdGxlPgogPC9yZGY6RGVzY3JpcHRpb24+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpwZGY9J2h0dHA6Ly9ucy5hZG9iZS5jb20vcGRmLzEuMy8nPgogIDxwZGY6QXV0aG9yPkJlbmphbWluIENyb3VjaDwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/Po23M2EAAARTSURBVFiF7ZdHSCRrFIXHAKIoglnMOeecc84554CiCCPiwo2IK51hwIAOg4pbcaMLdy4EcambQdCFKC4EcaGIgRH1PM6FEt/4usfWgZE3FvzQ1V1d9XHOvee/9UFLSwu6urrQ09ODgYEBDA0NYWxsDBMTE5ibm8PKygo2Njawt7eHk5MTXFxc4O7uDi8vL/j6+iIgIADBwcEICwtDZGQkoqOjERcXh8TERKSkpCA9PR1ZWVnIzc1FQUEBioqKUFpaioqKClRXV6Ourg6NjY1oaWlBe3s7Ojo60NXVhZ6eHnz8+BEfHgPq6+vDyMhIJaCjoyNcXV1VAkZERCAmJkYlYH5+PoqLi1UCtrW1obOzUzXgm1fwHfC9Bv+0gu+Af2UNWltbw87O7omCPj4+8Pf3R2BgIEJCQhAeHo6oqCi1gIWFhSgpKUF5eTkqKytfb7GFhQXMzMxkEZKAioIEdXNzg6en5wMsQQlIuMeA2dnZyMnJQWZmpizClpWVoba29uWApqamAunt7Y34+Hg4ODiIxQQjFB+Ul5cntrGuqExGRoYoGRoaiuTkZAHkd/xMFfnAkZERDA4OChT/8+IapHo6Ojr48uULeBBUUZEAp6enuL29xY8fPx4Wz/f29tDb2yt2U72EhASpq4ODA7kPr+HB6799+yZWNzU1aV6DBNTW1sb4+PgTQDYFj5WVFVGBN+bq7+/H9+/f5be+vj5Rs76+Hvf39zg5OcHw8LAADAwMYGdnR64bGhpCVVUVWltbNbNYARwbG3sCGBQUJN99/fpV6tPPz08WrY+NjcXZ2Rm2t7flMxtjaWlJVKKajBra3t3dLfdYXl6Wzibcbwecm5uTumS8cBGIjbK6uioWsu6SkpJksVFYq2wOQvLhPBYXF8WFZwH+XIPPAXR2dpZ64yIgf1tfX8fFxYUolZqaKh2sxAybioCbm5sPpVBTUyMWa1yDbJLHgEoWKoCTk5NyPeOGixFEu3gQkpFDSCrJjqeKDQ0N2N3dlWs+f/4sijY3N2seM+oUpI3sxq2tLXz69AnT09OYmprCwsKCWHt+fi6qMLAZRwQkHHePw8NDXF1dSUPRcgK/KAfVATJm+JDr62scHR3h+PhY1v7+vtQUVaTlaWlpEjW0l1k6Pz//YCuB2eGvysFf1eDs7KwEOOOEezHB2c0cGpSgJiBrkOejo6NYW1sTW1+9Fz+nBmdmZgSaYLSdnUxbGSc/78VKDdJy7sWvHrdeoiCVUzUsEI7dy1Bm7b16WFAAJyYm1MYMVSXcr+ZBro2NDVxeXsqDWacaDwv/tRezS29ubmT+UwA5YrFb2b1UUAFUNw9SQWbf3d2dNAlVZKe/ah7kNkaFPDw8/jUP8pxA3JM5Zj1noiagMr38FouVgZVKWlpaPpkHuWi7JiO/Mp6p6uIXv5PY2to+magJx0jR9J1E3cj//3wneVNvde+Af+V78ZtS8B3wvQb/tIJvEfAfrdw6AQ/FyRgAAAAASUVORK5CYII=";
        let favicon_png = base64::prelude::BASE64_STANDARD.decode(favicon_base64).unwrap();
        ([(header::CONTENT_TYPE, HeaderValue::from_static("image/png"))], favicon_png)
}